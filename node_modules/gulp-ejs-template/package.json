{
  "name": "gulp-ejs-template",
  "description": "Precompile EJS templates to a JS file.",
  "version": "0.2.0",
  "main": "index.js",
  "homepage": "https://github.com/teambition/gulp-ejs-template",
  "author": "",
  "repository": {
    "type": "git",
    "url": "git://github.com/teambition/gulp-ejs-template.git"
  },
  "keywords": [
    "gulpplugin",
    "ejs",
    "template",
    "ejs-template"
  ],
  "bugs": {
    "url": "https://github.com/teambition/gulp-ejs-template/issues"
  },
  "engines": {
    "node": ">= 0.10.0"
  },
  "scripts": {
    "test": "gulp test"
  },
  "dependencies": {
    "gulp-util": "^3.0.0",
    "through2": "^1.1.0"
  },
  "devDependencies": {
    "gulp": ">=3.8.0",
    "gulp-clean": ">=0.3.1",
    "gulp-jshint": ">=1.8.4",
    "gulp-mocha": ">=1.0.0",
    "gulp-sequence": ">=0.3.0",
    "merge2": ">=0.3.0"
  },
  "readme": "gulp-ejs-template\n====\n> Precompile EJS templates to a JS file.\n\n## Install\n\nInstall with [npm](https://npmjs.org/package/gulp-ejs-template)\n\n```\nnpm install --save-dev gulp-ejs-template\n```\n\n## Usage\n\n```js\nvar gulpEjs = require('gulp-ejs-template');\n\ngulp.task('ejsTemplate', function () {\n  return gulp.src('test/fixtures/*.html')\n  .pipe(gulpEjs({\n    moduleName: 'templates'\n  }))\n  .pipe(gulp.dest('test'));\n});\n```\n\n## Demo\n\n`test/fixtures/header.html`:\n```html\n<p><%= it.title || 'gulp' %> module</p>\n<%- include('user.html', it.user) %>\n```\n`test/fixtures/user-list.html`:\n```html\n<ul>\n  <% users.forEach(function(user) { -%>\n    <li>\n      <%= user.name %>\n    </li>\n  <% }) -%>\n</ul>\n```\n`test/fixtures/user.html`:\n```html\n<h1><%= it.name %></h1>\n```\n\nprecompile to `test/templates.js`:\n```js\n;(function(root, factory) {\n  'use strict';\n\n  if (typeof module === 'object' && module.exports) module.exports = factory();\n  else if (typeof define === 'function' && define.amd) define([], factory);\n  else root.templates = factory();\n}(typeof window === 'object' ? window : this, function() {\n  'use strict';\n  var templates = {};\n\n  templates['header']  = templates['header.html'] = function(it) {\n    var locals = it, __output = \"\";\n    var include = function(tplName, data) { return render(tplName, data); }\n    ;__output += \"<p>\";;__output += escape(it.title || 'gulp');__output += \" module</p>\\n\";;__output = [__output, include('user.html', it.user)].join(\"\");__output += \"\\n\";\n    return __output.trim();\n  };\n\n  templates['user-list']  = templates['user-list.html'] = function(it) {\n    var locals = it, __output = \"\";\n    ;__output += \"<ul>\\n  \";; users.forEach(function(user) { ;__output += \"    <li>\\n      \";;__output += escape(user.name);__output += \"\\n    </li>\\n  \";; }) ;__output += \"</ul>\\n\";\n    return __output.trim();\n  };\n\n  templates['user']  = templates['user.html'] = function(it) {\n    var locals = it, __output = \"\";\n    ;__output += \"<h1>\";;__output += escape(it.name);__output += \"</h1>\\n\";\n    return __output.trim();\n  };\n\n  var ejs = {\n    locals: {},\n    get: getTpl,\n    render: render\n  };\n  return ejs;\n\n  function render(tplName, data) {\n    var it  = copy({}, ejs.locals);\n    return getTpl(tplName)(copy(it, data));\n  }\n\n  function getTpl(tplName) {\n    return templates[tplName];\n  }\n\n  function escape(markup) {\n    if (!markup) return '';\n    return String(markup)\n      .replace(/&/g, '&amp;')\n      .replace(/</g, '&lt;')\n      .replace(/>/g, '&gt;')\n      .replace(/'/g, '&#39;')\n      .replace(/\"/g, '&quot;');\n  }\n\n  function copy(to, from) {\n    from = from || {};\n    for (var key in from) to[key] = from[key];\n    return to;\n  }\n}));\n\n```\n\n\n## API\n\n```js\nvar gulpEjs = require('gulp-ejs-template');\n\ngulp.task('ejsTemplate', function () {\n  return gulp.src('test/fixtures/*.html')\n    .pipe(gulpEjs({/*options*/}))\n    .pipe(gulp.dest('test'));\n});\n```\n\n### options.moduleName\n\n*Optional*, Type: `String`, Default: `'templates'`.\n\nName of the templates module.\n\n### options.delimiter\n\n*Optional*, Type: `String`, Default: `%`.\n\nejs's delimiter.\n\n### templates funciton\n\n```js\nvar ejs = require('templates.js');\n```\n\n### ejs.locals = {}\n\n```js\nejs.locals = {\n  local: 'en',\n  __: function(i18nStr) {/* i18n function */}\n}\n```\n\n### ejs.get(tplName)\n\n```js\nvar tplFunction = ejs.get('header');\n```\n\n### ejs.render(tplName, data)\n\n```js\nvar tpl = ejs.render('header', {\n  title: 'gulp-ejs-template',\n  user: {\n    name: 'zensh'\n  }\n});\n```\n\n## License\n\nMIT Â© [Teambition](http://teambition.com)\n",
  "readmeFilename": "README.md",
  "_id": "gulp-ejs-template@0.2.0",
  "dist": {
    "shasum": "6f34490d906020c18f775393489f3936f7baa3f7"
  },
  "_from": "gulp-ejs-template@",
  "_resolved": "https://registry.npmjs.org/gulp-ejs-template/-/gulp-ejs-template-0.2.0.tgz"
}
